name: Build Docker Image
 
on:

  push:

    branches: [ "main" ]

  pull_request:

    branches: [ "main" ]
 
jobs:

  build:

    runs-on: ubuntu-latest

    steps:

    - name: Check out code

      uses: actions/checkout@v3

    - name: Build & push Docker image

      uses: mr-smithers-excellent/docker-build-push@v6

      with:

        image: enricopierocosta/image

        tags: v1, latest

        registry: registry-url.io

        dockerfile: dockerfile

        username: ${{ secrets.DOCKER_USERNAME }}

        password: ${{ secrets.DOCKER_PASSWORD }}

